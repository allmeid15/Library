{% extends "layout/appLayout.html" %}

{% block content %}

<main>
  <div class="container-fluid">
    <h1 class="mt-4">Borrows</h1>
    <ol class="breadcrumb mb-4">
      <li class="breadcrumb-item active">Borrows</li>
    </ol>

    <div class="row">
      <div class="col-12">
        <div class="table-responsive">
          <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
            <thead>
            <tr>
              <th>Book Title</th>
              <th>User</th>
              <th>Student</th>
              <th>Borrow Date</th>
              <th>Return Date</th>
              <th>Return</th>
              <th>Edit</th>
              <th>Delete</th>
            </tr>
            </thead>
            <tbody>
            {% for borrow in borrows %}
            <tr>
              <td>{{ borrow.book.title }}</td>
              <td>{{ borrow.user.first_name }} {{ borrow.user.last_name }}</td>
              <td>{{ borrow.student.first_name }} {{ borrow.student.last_name }}</td>
              <td>{{ borrow.borrow_date }}</td>
              <td>{{ borrow.return_date }}</td>
              {% if (borrow.return_date == '') %}
              <td><a href="/borrows/return?id={{ borrow.id }}">Return</a></td>
              {% else %}
              <td><p>Returned</p></td>

              {% endif %}
              <td><a href="/borrows/edit?id={{ borrow.id }}">Edit</a></td>
                <td><a href="/borrows/delete?id={{ borrow.id }}">Delete</a></td>

            </tr>
            {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}
